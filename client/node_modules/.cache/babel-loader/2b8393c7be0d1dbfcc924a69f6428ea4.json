{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Hp\\\\Documents\\\\BlogUsingMERN\\\\BlogAndArchieveUsingMERN\\\\client\\\\src\\\\components\\\\Auth\\\\Auth.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { GoogleLogin } from 'react-google-login';\nimport { Avatar, Button, Paper, Grid, Typography, Container, Form } from '@mui/material'; // import LockIcon from '@mui/icons-material/Lock';\n\nimport LockOutlinedIcon from '@mui/icons-material/LockOutlined';\nimport useStyles from './styles';\nimport Gicon from './icon';\nimport Box from '@material-ui/core/Box'; // import { TextField } from '@material-ui/core';\n\nimport Input from './Input';\nimport { useDispatch } from 'react-redux';\nimport { useNavigate } from 'react-router-dom';\nimport { AUTH } from '../../constants/actionTypes';\nimport { signin, signup } from '../../actions/auth'; // const initialState = {firstName: '', lastName: '', email: '', password: '', confirmPassword: ''};\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst initialState = {\n  firstName: '',\n  lastName: '',\n  email: '',\n  password: '',\n  confirmPassword: '',\n  imageUrl: '',\n  imageData: '',\n  linkedIn: '',\n  github: '',\n  social: '',\n  institude: ''\n};\n\nconst Auth = ({\n  setUserId\n}) => {\n  _s();\n\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const [showPassword, setShowPassword] = useState(false);\n  const [isSignup, setIsSignup] = useState(false);\n  const navigate = useNavigate();\n  const [formData, setFormData] = useState(initialState);\n\n  const handleShowPassword = () => {\n    setShowPassword(prevShowPassword => !prevShowPassword);\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault(); // console.log(\"Hello\")\n    // console.log(formData)\n\n    if (isSignup) {\n      dispatch(signup(formData, navigate, setUserId));\n    } else {\n      dispatch(signin(formData, navigate, setUserId));\n    }\n  };\n\n  const handleChange = e => {\n    setFormData({ ...formData,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const switchMode = () => {\n    setIsSignup(prevIsSignup => !prevIsSignup);\n    setShowPassword(false);\n  };\n\n  const googleSuccess = async res => {\n    const result = res === null || res === void 0 ? void 0 : res.profileObj;\n    const token = res === null || res === void 0 ? void 0 : res.tokenId;\n    console.log({\n      result\n    });\n    const initialState = {\n      firstName: result.givenName,\n      lastName: result.familyName,\n      email: result.email,\n      password: '',\n      confirmPassword: '',\n      imageUrl: result.imageUrl,\n      imageData: '',\n      linkedIn: '',\n      github: '',\n      social: '',\n      institude: '',\n      googleId: result.googleId\n    };\n    console.log(initialState);\n    dispatch(signup(initialState, navigate, setUserId)); //  dispatch(signup({result},navigate, setUserId))\n\n    try {\n      dispatch({\n        type: AUTH,\n        data: {\n          result,\n          token\n        }\n      });\n      setUserId(\"GLogIN\");\n      navigate('/');\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const googleFailure = error => {\n    console.log(error);\n    console.log(\"Sign in failed.Try again\");\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(Container, {\n      component: \"main\",\n      maxWidth: \"xs\",\n      children: /*#__PURE__*/_jsxDEV(Paper, {\n        className: classes.paper,\n        elevation: 3,\n        children: [/*#__PURE__*/_jsxDEV(Avatar, {\n          className: classes.avatar,\n          children: /*#__PURE__*/_jsxDEV(LockOutlinedIcon, {\n            color: \"#ff675c\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h5\",\n          children: isSignup ? 'Sign Up' : 'Sign In'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          className: classes.form,\n          onSubmit: handleSubmit,\n          children: [/*#__PURE__*/_jsxDEV(Grid, {\n            container: true,\n            spacing: 2,\n            children: [isSignup && /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(Input, {\n                name: \"firstName\",\n                label: \"First Name\",\n                handleChange: handleChange,\n                autoFocus: true,\n                half: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 88,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(Input, {\n                name: \"lastName\",\n                label: \"Last Name\",\n                handleChange: handleChange,\n                half: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 89,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true), /*#__PURE__*/_jsxDEV(Input, {\n              name: \"email\",\n              label: \"Email\",\n              handleChange: handleChange,\n              autoFocus: isSignup ? false : true,\n              type: \"email\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Input, {\n              name: \"password\",\n              label: \"Password\",\n              autocomplete: \"on\",\n              handleChange: handleChange,\n              type: showPassword ? \"text\" : \"password\",\n              handleShowPassword: handleShowPassword\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 29\n            }, this), isSignup && /*#__PURE__*/_jsxDEV(Input, {\n              name: \"confirmPassword\",\n              autocomplete: \"on\",\n              label: \"Confirm Password\",\n              handleChange: handleChange,\n              type: \"password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            pt: 2,\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              type: \"submit\",\n              fullWidth: true,\n              variant: \"contained\",\n              className: classes.submit,\n              style: {\n                backgroundColor: '#9abf7a',\n                color: '#ffffff',\n                hover: {\n                  backgroundColor: '#5d6e7a'\n                }\n              },\n              children: isSignup ? \"Sign Up\" : \"Sign In\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 25\n          }, this), isSignup && /*#__PURE__*/_jsxDEV(Box, {\n            pt: 2,\n            children: /*#__PURE__*/_jsxDEV(\"form\", {\n              action: \"http://localhost:5000/auth/google\",\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                style: {\n                  backgroundColor: '#ff675c',\n                  color: '#ffffff',\n                  hover: {\n                    backgroundColor: '#5d6e7a'\n                  }\n                },\n                className: classes.googleButton,\n                fullWidth: true,\n                type: \"submit\",\n                startIcon: /*#__PURE__*/_jsxDEV(Gicon, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 107,\n                  columnNumber: 72\n                }, this),\n                variant: \"contained\",\n                children: \"Sign Up with Google\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 105,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 33\n          }, this), !isSignup && /*#__PURE__*/_jsxDEV(Box, {\n            pt: 2,\n            children: /*#__PURE__*/_jsxDEV(GoogleLogin, {\n              clientId: \"802372011188-c3h6alkbm8dh88imcrhjd733su4q7kvr.apps.googleusercontent.com\",\n              render: renderProps => /*#__PURE__*/_jsxDEV(Button, {\n                style: {\n                  backgroundColor: '#ff675c',\n                  color: '#ffffff',\n                  hover: {\n                    backgroundColor: '#5d6e7a'\n                  }\n                },\n                className: classes.googleButton,\n                fullWidth: true,\n                onClick: renderProps.onClick,\n                disabled: renderProps.disabled,\n                startIcon: /*#__PURE__*/_jsxDEV(Gicon, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 122,\n                  columnNumber: 56\n                }, this),\n                variant: \"contained\",\n                children: \"Google Sign In\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 117,\n                columnNumber: 41\n              }, this),\n              onSuccess: googleSuccess,\n              onFailure: googleFailure,\n              cookiePolicy: \"single_host_origin\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            container: true,\n            justifyContent: \"flex-end\",\n            children: /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                onClick: switchMode,\n                style: {\n                  color: \"#334155\"\n                },\n                children: isSignup ? \"Already have an account ? Sign In\" : \"Don't have an account ? Sign Up\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 133,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 132,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Auth, \"hH1rzNT02LPgaojl6KIMlgVOCl4=\", false, function () {\n  return [useStyles, useDispatch, useNavigate];\n});\n\n_c = Auth;\nexport default Auth;\n\nvar _c;\n\n$RefreshReg$(_c, \"Auth\");","map":{"version":3,"sources":["C:/Users/Hp/Documents/BlogUsingMERN/BlogAndArchieveUsingMERN/client/src/components/Auth/Auth.js"],"names":["React","useState","GoogleLogin","Avatar","Button","Paper","Grid","Typography","Container","Form","LockOutlinedIcon","useStyles","Gicon","Box","Input","useDispatch","useNavigate","AUTH","signin","signup","initialState","firstName","lastName","email","password","confirmPassword","imageUrl","imageData","linkedIn","github","social","institude","Auth","setUserId","classes","dispatch","showPassword","setShowPassword","isSignup","setIsSignup","navigate","formData","setFormData","handleShowPassword","prevShowPassword","handleSubmit","e","preventDefault","handleChange","target","name","value","switchMode","prevIsSignup","googleSuccess","res","result","profileObj","token","tokenId","console","log","givenName","familyName","googleId","type","data","error","googleFailure","paper","avatar","form","submit","backgroundColor","color","hover","googleButton","renderProps","onClick","disabled"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\r\nimport { GoogleLogin } from 'react-google-login'\r\nimport { Avatar, Button, Paper, Grid, Typography, Container, Form } from '@mui/material';\r\n// import LockIcon from '@mui/icons-material/Lock';\r\nimport LockOutlinedIcon from '@mui/icons-material/LockOutlined';\r\nimport useStyles from './styles'\r\nimport Gicon from './icon'\r\nimport Box from '@material-ui/core/Box';\r\n// import { TextField } from '@material-ui/core';\r\nimport Input from './Input'\r\nimport { useDispatch } from 'react-redux';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { AUTH } from '../../constants/actionTypes';\r\nimport {signin, signup} from '../../actions/auth'\r\n\r\n// const initialState = {firstName: '', lastName: '', email: '', password: '', confirmPassword: ''};\r\nconst initialState = { firstName: '', lastName: '', email: '', password: '', confirmPassword: '' , imageUrl: '' ,imageData: '' ,linkedIn: '' ,github: '' ,social: '' ,institude: '' };\r\n\r\nconst Auth = ({setUserId}) => {\r\n    const classes = useStyles();\r\n    const dispatch = useDispatch();                \r\n    const [showPassword, setShowPassword] = useState(false);\r\n    const [isSignup, setIsSignup] = useState(false);\r\n    const navigate = useNavigate();\r\n    const [formData, setFormData] = useState(initialState);\r\n    \r\n    const handleShowPassword = () => {\r\n        setShowPassword((prevShowPassword) => !prevShowPassword)\r\n    }\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        // console.log(\"Hello\")\r\n        // console.log(formData)\r\n        if (isSignup) {\r\n            dispatch(signup(formData,navigate, setUserId))\r\n        }\r\n        else {\r\n            dispatch(signin(formData, navigate, setUserId))\r\n\r\n        }\r\n    }\r\n\r\n    const handleChange = (e) => {\r\n        setFormData({...formData, [e.target.name]: e.target.value})\r\n    }\r\n\r\n    const switchMode = () => {\r\n        setIsSignup((prevIsSignup) => !prevIsSignup)\r\n        setShowPassword(false)\r\n    }\r\n\r\n    const googleSuccess = async (res) => {\r\n        const result = res?.profileObj;\r\n        const token = res?.tokenId;\r\n        console.log({ result });\r\n        const initialState = { firstName: result.givenName, lastName: result.familyName, email: result.email, password: '', confirmPassword: '', imageUrl: result.imageUrl, imageData: '', linkedIn: '', github: '', social: '', institude: '', googleId: result.googleId };\r\n        console.log(initialState)\r\n        dispatch(signup(initialState,navigate, setUserId))\r\n        //  dispatch(signup({result},navigate, setUserId))\r\n        try {\r\n            dispatch({ type: AUTH, data: { result, token } });\r\n            setUserId(\"GLogIN\")\r\n            navigate('/');\r\n\r\n        } catch (error) {\r\n            console.log(error)\r\n        }\r\n\r\n    }\r\n\r\n    const googleFailure = (error) => {\r\n        console.log(error)\r\n        console.log(\"Sign in failed.Try again\")\r\n    }\r\n    \r\n    return (\r\n        <div>\r\n            <Container component=\"main\" maxWidth=\"xs\">\r\n                <Paper className={classes.paper} elevation={3}>\r\n                    <Avatar className={classes.avatar}>\r\n                        <LockOutlinedIcon color=\"#ff675c\" />\r\n                    </Avatar>\r\n                    <Typography variant=\"h5\">{isSignup ? 'Sign Up' : 'Sign In'}</Typography>\r\n                    <form className={classes.form} onSubmit={handleSubmit}>\r\n                        <Grid container spacing={2}>\r\n                            {isSignup && (\r\n                                    <>\r\n                                        <Input name=\"firstName\" label=\"First Name\" handleChange={handleChange} autoFocus half />\r\n                                        <Input name=\"lastName\" label=\"Last Name\" handleChange={handleChange} half/>\r\n                                    </>\r\n                            )}\r\n                            <Input name=\"email\" label=\"Email\" handleChange={handleChange} autoFocus={isSignup ?false: true} type=\"email\" />\r\n                            <Input name=\"password\" label=\"Password\" autocomplete=\"on\" handleChange={handleChange} type={showPassword ? \"text\" : \"password\"} handleShowPassword={handleShowPassword} />\r\n                            \r\n                            {isSignup &&\r\n                            <Input name=\"confirmPassword\" autocomplete=\"on\" label=\"Confirm Password\" handleChange={handleChange} type=\"password\" />    \r\n                            }\r\n                        </Grid>\r\n                        <Box pt={2}>\r\n                            <Button type=\"submit\" fullWidth variant=\"contained\" className={classes.submit} style={{backgroundColor: '#9abf7a',color: '#ffffff',hover: {backgroundColor: '#5d6e7a',}}} >{isSignup ? \"Sign Up\" : \"Sign In\"}</Button>\r\n                        </Box>\r\n                        {isSignup &&\r\n                                <Box pt={2}>\r\n                                    <form action=\"http://localhost:5000/auth/google\">\r\n                                        <Button style={{ backgroundColor: '#ff675c', color: '#ffffff', hover: { backgroundColor: '#5d6e7a', } }}\r\n                                    className={classes.googleButton}\r\n                                    fullWidth type=\"submit\" startIcon={<Gicon />}\r\n                                            variant=\"contained\" >Sign Up with Google</Button>\r\n                                    </form>\r\n                                </Box> \r\n                            }\r\n                        {!isSignup &&\r\n                            <Box pt={2}>\r\n                                <GoogleLogin\r\n                                    clientId=\"802372011188-c3h6alkbm8dh88imcrhjd733su4q7kvr.apps.googleusercontent.com\"\r\n                                    render={(renderProps) => (\r\n                                        <Button style={{ backgroundColor: '#ff675c', color: '#ffffff', hover: { backgroundColor: '#5d6e7a', } }}\r\n                                            className={classes.googleButton}\r\n                                            fullWidth\r\n                                            onClick={renderProps.onClick}\r\n                                            disabled={renderProps.disabled}\r\n                                            startIcon={<Gicon />}\r\n                                            variant=\"contained\"\r\n                                        >Google Sign In</Button>\r\n                                    )}\r\n                                    onSuccess={googleSuccess}\r\n                                    onFailure={googleFailure}\r\n                                    cookiePolicy=\"single_host_origin\"\r\n                                />\r\n                            </Box>}\r\n                        <Grid container justifyContent=\"flex-end\">\r\n                            <Grid item>\r\n                                <Button onClick={switchMode} style={{color:\"#334155\"}}>\r\n                                    {isSignup ? \"Already have an account ? Sign In\" : \"Don't have an account ? Sign Up\"}\r\n                                </Button>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </form>\r\n                </Paper>\r\n            </Container>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Auth;\r\n"]},"metadata":{},"sourceType":"module"}
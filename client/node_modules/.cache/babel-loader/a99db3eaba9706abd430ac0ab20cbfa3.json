{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Hp\\\\Documents\\\\BlogUsingMERN\\\\BlogAndArchieveUsingMERN\\\\client\\\\src\\\\components\\\\Resources\\\\Resources.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport PDFS from './PDFS';\nimport { useDispatch } from 'react-redux';\nimport { Grid, Card, CardContent, TextField, Button, Typography, Paper, Fab, CardActionArea } from '@material-ui/core';\nimport AddResourcesdialog from './AddResourcesdialog';\nimport { useNavigate, useLocation, useParams } from 'react-router-dom';\nimport { getallpdfs, deletePDF } from '../../actions/pdfs';\nimport useStyles from './styles';\nimport axios from 'axios';\nimport AddIcon from '@mui/icons-material/Add';\nimport DeleteIcon from '@mui/icons-material/Delete';\nimport DownloadForOfflineIcon from '@mui/icons-material/DownloadForOffline';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Resources = () => {\n  _s();\n\n  var _user$result;\n\n  const [allpdfs, setAllpdfs] = useState(null);\n  const dispatch = useDispatch();\n  const {\n    id\n  } = useParams();\n  const [user, setUser] = useState(JSON.parse(localStorage.getItem('profile'))); // const classes = useStyles();\n  // dispatch(getallpdfs(setAllpdfs));\n  // console.log(allpdfs); \n\n  function download(x, y) {\n    const add = y + '.pdf';\n    axios({\n      url: x,\n      method: 'GET',\n      responseType: 'blob'\n    }).then(response => {\n      const url = window.URL.createObjectURL(new Blob([response.data]));\n      const link = document.createElement('a');\n      link.href = url;\n      link.setAttribute('download', add);\n      document.body.appendChild(link);\n      link.click();\n    });\n  }\n\n  useEffect(() => {\n    dispatch(getallpdfs(setAllpdfs));\n  }, [id]);\n  let url = \"\";\n\n  const Download = (selectedFile, title) => {\n    url = selectedFile;\n    download(url, title);\n  };\n\n  const deletepdf = id => {\n    dispatch(deletePDF(id));\n    window.location.reload();\n  };\n\n  return /*#__PURE__*/_jsxDEV(Grid, {\n    children: [(allpdfs === null || allpdfs === void 0 ? void 0 : allpdfs.length) && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Card, {\n        children: (user === null || user === void 0 ? void 0 : (_user$result = user.result) === null || _user$result === void 0 ? void 0 : _user$result.name) ? /*#__PURE__*/_jsxDEV(AddResourcesdialog, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 29\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 29\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 21\n      }, this), allpdfs.map(({\n        title,\n        name,\n        creator,\n        selectedFile,\n        _id\n      }) => {\n        var _user$result2;\n\n        return /*#__PURE__*/_jsxDEV(Card, {\n          style: {\n            backgroundColor: \"#f1f5f9\",\n            width: \"100%\",\n            height: \"100%\",\n            borderRadius: '.1rem',\n            margin: \"3px 3px\"\n          },\n          elevation: 2,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              width: \"100%\",\n              height: \"10%\",\n              margin: '10px',\n              cursor: 'pointer'\n            },\n            children: /*#__PURE__*/_jsxDEV(CardContent, {\n              variant: \"h6\",\n              style: {\n                width: \"100%\",\n                height: \"10%\",\n                marginLeft: '0rem',\n                marginTop: '1rem',\n                fontWeight: 'bold'\n              },\n              elevation: 6,\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"h4\",\n                children: [\"Title: \", title]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 85,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"h5\",\n                children: [\" Created By: \", creator]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 86,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(CardActionArea, {\n                style: {\n                  marginTop: '.5rem'\n                },\n                children: [/*#__PURE__*/_jsxDEV(DownloadForOfflineIcon, {\n                  onClick: () => Download(selectedFile, title),\n                  styles: {\n                    marginTop: '10rem',\n                    marginBottom: '1rem',\n                    marginLeft: '100rem',\n                    color: '#334155'\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 89,\n                  columnNumber: 41\n                }, this), (user === null || user === void 0 ? void 0 : (_user$result2 = user.result) === null || _user$result2 === void 0 ? void 0 : _user$result2.name) === creator && /*#__PURE__*/_jsxDEV(DeleteIcon, {\n                  style: {\n                    color: 'black'\n                  },\n                  onClick: () => deletepdf(_id)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 99,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 87,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 25\n        }, this);\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 17\n    }, this), \"        \"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Resources, \"JR7rEv+gwB7+2VwYwko8uJaqvsM=\", false, function () {\n  return [useDispatch, useParams];\n});\n\n_c = Resources;\nexport default Resources;\n\nvar _c;\n\n$RefreshReg$(_c, \"Resources\");","map":{"version":3,"sources":["C:/Users/Hp/Documents/BlogUsingMERN/BlogAndArchieveUsingMERN/client/src/components/Resources/Resources.js"],"names":["React","useState","useEffect","PDFS","useDispatch","Grid","Card","CardContent","TextField","Button","Typography","Paper","Fab","CardActionArea","AddResourcesdialog","useNavigate","useLocation","useParams","getallpdfs","deletePDF","useStyles","axios","AddIcon","DeleteIcon","DownloadForOfflineIcon","Resources","allpdfs","setAllpdfs","dispatch","id","user","setUser","JSON","parse","localStorage","getItem","download","x","y","add","url","method","responseType","then","response","window","URL","createObjectURL","Blob","data","link","document","createElement","href","setAttribute","body","appendChild","click","Download","selectedFile","title","deletepdf","location","reload","length","result","name","map","creator","_id","backgroundColor","width","height","borderRadius","margin","cursor","marginLeft","marginTop","fontWeight","marginBottom","color"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,IAAP,MAAiB,QAAjB;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,SAASC,IAAT,EAAeC,IAAf,EAAqBC,WAArB,EAAkCC,SAAlC,EAA6CC,MAA7C,EAAqDC,UAArD,EAAiEC,KAAjE,EAAwEC,GAAxE,EAA6EC,cAA7E,QAAmG,mBAAnG;AACA,OAAOC,kBAAP,MAA+B,sBAA/B;AACA,SAASC,WAAT,EAAsBC,WAAtB,EAAmCC,SAAnC,QAAoD,kBAApD;AACA,SAASC,UAAT,EAAqBC,SAArB,QAAsC,oBAAtC;AACA,OAAOC,SAAP,MAAsB,UAAtB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,OAAP,MAAoB,yBAApB;AACA,OAAOC,UAAP,MAAuB,4BAAvB;AACA,OAAOC,sBAAP,MAAmC,wCAAnC;;;AACA,MAAMC,SAAS,GAAG,MAAM;AAAA;;AAAA;;AAEpB,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwB1B,QAAQ,CAAC,IAAD,CAAtC;AACA,QAAM2B,QAAQ,GAAGxB,WAAW,EAA5B;AACA,QAAM;AAAEyB,IAAAA;AAAF,MAASZ,SAAS,EAAxB;AACA,QAAM,CAACa,IAAD,EAAOC,OAAP,IAAkB9B,QAAQ,CAAC+B,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,SAArB,CAAX,CAAD,CAAhC,CALoB,CAOpB;AAEA;AACA;;AAGA,WAASC,QAAT,CAAkBC,CAAlB,EAAqBC,CAArB,EAAwB;AACpB,UAAMC,GAAG,GAAGD,CAAC,GAAG,MAAhB;AACAjB,IAAAA,KAAK,CAAC;AACFmB,MAAAA,GAAG,EAAEH,CADH;AAGFI,MAAAA,MAAM,EAAE,KAHN;AAIFC,MAAAA,YAAY,EAAE;AAJZ,KAAD,CAAL,CAKGC,IALH,CAKSC,QAAD,IAAc;AAClB,YAAMJ,GAAG,GAAGK,MAAM,CAACC,GAAP,CAAWC,eAAX,CAA2B,IAAIC,IAAJ,CAAS,CAACJ,QAAQ,CAACK,IAAV,CAAT,CAA3B,CAAZ;AACA,YAAMC,IAAI,GAAGC,QAAQ,CAACC,aAAT,CAAuB,GAAvB,CAAb;AACAF,MAAAA,IAAI,CAACG,IAAL,GAAYb,GAAZ;AACAU,MAAAA,IAAI,CAACI,YAAL,CAAkB,UAAlB,EAA8Bf,GAA9B;AACAY,MAAAA,QAAQ,CAACI,IAAT,CAAcC,WAAd,CAA0BN,IAA1B;AACAA,MAAAA,IAAI,CAACO,KAAL;AACH,KAZD;AAcH;;AACDvD,EAAAA,SAAS,CAAC,MAAM;AACZ0B,IAAAA,QAAQ,CAACV,UAAU,CAACS,UAAD,CAAX,CAAR;AAEH,GAHQ,EAGN,CAACE,EAAD,CAHM,CAAT;AAKA,MAAIW,GAAG,GAAG,EAAV;;AACA,QAAMkB,QAAQ,GAAG,CAACC,YAAD,EAAeC,KAAf,KAAyB;AACtCpB,IAAAA,GAAG,GAAGmB,YAAN;AACAvB,IAAAA,QAAQ,CAACI,GAAD,EAAMoB,KAAN,CAAR;AACH,GAHD;;AAKA,QAAMC,SAAS,GAAIhC,EAAD,IAAQ;AACtBD,IAAAA,QAAQ,CAACT,SAAS,CAACU,EAAD,CAAV,CAAR;AACAgB,IAAAA,MAAM,CAACiB,QAAP,CAAgBC,MAAhB;AAEH,GAJD;;AAMA,sBAEI,QAAC,IAAD;AAAA,eAGK,CAAArC,OAAO,SAAP,IAAAA,OAAO,WAAP,YAAAA,OAAO,CAAEsC,MAAT,kBAEG;AAAA,8BACI,QAAC,IAAD;AAAA,kBACM,CAAAlC,IAAI,SAAJ,IAAAA,IAAI,WAAJ,4BAAAA,IAAI,CAAEmC,MAAN,8DAAcC,IAAd,iBAEE,QAAC,kBAAD;AAAA;AAAA;AAAA;AAAA,gBAFF,gBAGE;AAAA;AAAA;AAAA;AAAA;AAJR;AAAA;AAAA;AAAA;AAAA,cADJ,EAQKxC,OAAO,CAACyC,GAAR,CAAY,CAAC;AAAEP,QAAAA,KAAF;AAASM,QAAAA,IAAT;AAAeE,QAAAA,OAAf;AAAwBT,QAAAA,YAAxB;AAAsCU,QAAAA;AAAtC,OAAD;AAAA;;AAAA,4BAKT,QAAC,IAAD;AAAM,UAAA,KAAK,EAAE;AAAEC,YAAAA,eAAe,EAAE,SAAnB;AAA8BC,YAAAA,KAAK,EAAE,MAArC;AAA6CC,YAAAA,MAAM,EAAE,MAArD;AAA6DC,YAAAA,YAAY,EAAE,OAA3E;AAAoFC,YAAAA,MAAM,EAAE;AAA5F,WAAb;AAAsH,UAAA,SAAS,EAAE,CAAjI;AAAA,iCAGI;AAAK,YAAA,KAAK,EAAE;AAAEH,cAAAA,KAAK,EAAE,MAAT;AAAiBC,cAAAA,MAAM,EAAE,KAAzB;AAAgCE,cAAAA,MAAM,EAAE,MAAxC;AAAgDC,cAAAA,MAAM,EAAE;AAAxD,aAAZ;AAAA,mCACI,QAAC,WAAD;AAAa,cAAA,OAAO,EAAC,IAArB;AAA0B,cAAA,KAAK,EAAE;AAAEJ,gBAAAA,KAAK,EAAE,MAAT;AAAiBC,gBAAAA,MAAM,EAAE,KAAzB;AAAgCI,gBAAAA,UAAU,EAAE,MAA5C;AAAoDC,gBAAAA,SAAS,EAAE,MAA/D;AAAuEC,gBAAAA,UAAU,EAAE;AAAnF,eAAjC;AAA8H,cAAA,SAAS,EAAE,CAAzI;AAAA,sCACI,QAAC,UAAD;AAAY,gBAAA,OAAO,EAAC,IAApB;AAAA,sCAAiClB,KAAjC;AAAA;AAAA;AAAA;AAAA;AAAA,sBADJ,eAEI,QAAC,UAAD;AAAY,gBAAA,OAAO,EAAC,IAApB;AAAA,4CAAuCQ,OAAvC;AAAA;AAAA;AAAA;AAAA;AAAA,sBAFJ,eAGI,QAAC,cAAD;AAAgB,gBAAA,KAAK,EAAE;AAAES,kBAAAA,SAAS,EAAE;AAAb,iBAAvB;AAAA,wCAEI,QAAC,sBAAD;AAAwB,kBAAA,OAAO,EAAE,MAAMnB,QAAQ,CAACC,YAAD,EAAeC,KAAf,CAA/C;AAAsE,kBAAA,MAAM,EAAE;AAC1EiB,oBAAAA,SAAS,EAAE,OAD+D;AAE1EE,oBAAAA,YAAY,EAAE,MAF4D;AAG1EH,oBAAAA,UAAU,EAAE,QAH8D;AAI1EI,oBAAAA,KAAK,EAAE;AAJmE;AAA9E;AAAA;AAAA;AAAA;AAAA,wBAFJ,EAUM,CAAAlD,IAAI,SAAJ,IAAAA,IAAI,WAAJ,6BAAAA,IAAI,CAAEmC,MAAN,gEAAcC,IAAd,MAAuBE,OAAxB,iBAEG,QAAC,UAAD;AAAY,kBAAA,KAAK,EAAE;AAAEY,oBAAAA,KAAK,EAAE;AAAT,mBAAnB;AAAuC,kBAAA,OAAO,EAAE,MAAMnB,SAAS,CAACQ,GAAD;AAA/D;AAAA;AAAA;AAAA;AAAA,wBAZR;AAAA;AAAA;AAAA;AAAA;AAAA,sBAHJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AAHJ;AAAA;AAAA;AAAA;AAAA,gBALS;AAAA,OAAZ,CARL;AAAA;AAAA;AAAA;AAAA;AAAA,YALR;AAAA;AAAA;AAAA;AAAA;AAAA,UAFJ;AAwDH,CAvGD;;GAAM5C,S;UAGerB,W,EACFa,S;;;KAJbQ,S;AAyGN,eAAeA,SAAf","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport PDFS from './PDFS';\r\nimport { useDispatch } from 'react-redux';\r\nimport { Grid, Card, CardContent, TextField, Button, Typography, Paper, Fab, CardActionArea } from '@material-ui/core';\r\nimport AddResourcesdialog from './AddResourcesdialog';\r\nimport { useNavigate, useLocation, useParams } from 'react-router-dom';\r\nimport { getallpdfs, deletePDF } from '../../actions/pdfs';\r\nimport useStyles from './styles';\r\nimport axios from 'axios';\r\nimport AddIcon from '@mui/icons-material/Add';\r\nimport DeleteIcon from '@mui/icons-material/Delete';\r\nimport DownloadForOfflineIcon from '@mui/icons-material/DownloadForOffline';\r\nconst Resources = () => {\r\n\r\n    const [allpdfs, setAllpdfs] = useState(null);\r\n    const dispatch = useDispatch();\r\n    const { id } = useParams();\r\n    const [user, setUser] = useState(JSON.parse(localStorage.getItem('profile')));\r\n\r\n    // const classes = useStyles();\r\n\r\n    // dispatch(getallpdfs(setAllpdfs));\r\n    // console.log(allpdfs); \r\n\r\n\r\n    function download(x, y) {\r\n        const add = y + '.pdf';\r\n        axios({\r\n            url: x,\r\n\r\n            method: 'GET',\r\n            responseType: 'blob',\r\n        }).then((response) => {\r\n            const url = window.URL.createObjectURL(new Blob([response.data]));\r\n            const link = document.createElement('a');\r\n            link.href = url;\r\n            link.setAttribute('download', add);\r\n            document.body.appendChild(link);\r\n            link.click();\r\n        });\r\n\r\n    }\r\n    useEffect(() => {\r\n        dispatch(getallpdfs(setAllpdfs));\r\n\r\n    }, [id]);\r\n\r\n    let url = \"\";\r\n    const Download = (selectedFile, title) => {\r\n        url = selectedFile;\r\n        download(url, title);\r\n    }\r\n\r\n    const deletepdf = (id) => {\r\n        dispatch(deletePDF(id));\r\n        window.location.reload();\r\n\r\n    }\r\n\r\n    return (\r\n\r\n        <Grid>\r\n\r\n\r\n            {allpdfs?.length && (\r\n\r\n                <div >\r\n                    <Card>\r\n                        {(user?.result?.name ? (\r\n\r\n                            <AddResourcesdialog></AddResourcesdialog>\r\n                        ) : <div></div>)}\r\n                    </Card>\r\n\r\n                    {allpdfs.map(({ title, name, creator, selectedFile, _id }) => (\r\n\r\n\r\n\r\n\r\n                        <Card style={{ backgroundColor: \"#f1f5f9\", width: \"100%\", height: \"100%\", borderRadius: '.1rem', margin: \"3px 3px\" }} elevation={2}>\r\n\r\n\r\n                            <div style={{ width: \"100%\", height: \"10%\", margin: '10px', cursor: 'pointer' }}  >\r\n                                <CardContent variant=\"h6\" style={{ width: \"100%\", height: \"10%\", marginLeft: '0rem', marginTop: '1rem', fontWeight: 'bold' }} elevation={6}>\r\n                                    <Typography variant='h4'>Title: {title}</Typography> \r\n                                    <Typography variant='h5'> Created By: {creator}</Typography>\r\n                                    <CardActionArea style={{ marginTop: '.5rem' }}>\r\n\r\n                                        <DownloadForOfflineIcon onClick={() => Download(selectedFile, title)} styles={{\r\n                                            marginTop: '10rem',\r\n                                            marginBottom: '1rem',\r\n                                            marginLeft: '100rem',\r\n                                            color: '#334155',\r\n\r\n                                        }} />\r\n\r\n                                        {(user?.result?.name === creator) && (\r\n\r\n                                            <DeleteIcon style={{ color: 'black' }} onClick={() => deletepdf(_id)} />\r\n                                        )}\r\n                                    </CardActionArea>\r\n\r\n\r\n                                </CardContent>\r\n\r\n                                {/* <img src={selectedFile} width=\"200px\" /> */}\r\n                            </div>\r\n                        </Card>\r\n                    ))}\r\n                </div>\r\n\r\n\r\n            )\r\n            }        </Grid>\r\n    )\r\n}\r\n\r\nexport default Resources\r\n"]},"metadata":{},"sourceType":"module"}